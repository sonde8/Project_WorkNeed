<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <title th:text="${pageTitle}"> Î©îÏù∏ </title>

    <!-- ÌéòÏù¥ÏßÄ Ï†ÑÏö© CSS -->
    <th:block layout:fragment="head">
        <link rel="stylesheet" th:href="@{/css/main.css}">
        <link rel="stylesheet" th:href="@{/css/attendanceLeft.css}">
        <link rel="stylesheet" th:href="@{/css/main-kanban.css}">
        <link rel="stylesheet" th:href="@{/css/main-board.css}">
    </th:block>

    <th:block layout:fragment="script">
        <script th:src="@{/js/main.js}"></script>
        <script th:src="@{/js/board.js}"></script>
        <script th:src="@{/js/attendanceLeft.js}"></script>
    </th:block>



</head>

<body>

<div layout:fragment="content" class = "pageMain">

    <div class="mainPage">

        <!-- ÏôºÏ™Ω -->
        <section class = "leftPage">

            <!-- Ïò§Îäò ÎÇ†Ïßú -->
            <div class = "toDay" id="todayStart"
                 th:text="${today != null ? today : 'ÎÇ†Ïßú'}"> ÎÇ†Ïßú </div>

            <!-- ÌîÑÎ°úÌïÑ -->
            <div class = "profile-card">

                <div class="profileImg">
                    <img th:if="${user.userProfileImage != null}"
                         th:src="@{/uploads/profiles/} + ${user.userProfileImage}"
                         alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ">

                    <img th:unless="${user.userProfileImage != null}"
                         th:src="@{/images/default-profile.svg}"
                         alt="Í∏∞Î≥∏ Ïù¥ÎØ∏ÏßÄ">
                </div>

                <div class="profileText">
                    <div class="name" th:text="${user.userName}">ÏÇ¨Ïö©ÏûêÎ™Ö</div>

                    <div class="profileMeta">
                        <span class="dept" th:text="${user.deptName}">Î∂ÄÏÑúÎ™Ö</span>
                        <span class="bar">|</span>
                        <span class="rank" th:text="${user.rankName}">ÏßÅÍ∏â</span>
                    </div>
                </div>

            </div>

            <!-- Í∑ºÌÉúÍ¥ÄÎ¶¨ -->
            <a class="attendancePage" th:href="@{/attendance}"> Í∑º ÌÉú Í¥Ä Î¶¨ üëâ </a>

            <!-- Ï∂ú Ìá¥Í∑º -->
            <div class = "attendWidget">
                <section th:replace="~{Attendance/attendanceLeft :: attendanceLeft}"></section>
            </div>

            <!-- Í≤∞Ï†ú -->
            <div class = "pay"> Í≤∞Ï†ú </div>
            <!-- MAIN KPI Í≤∞Ïû¨ ÏúÑÏ†Ø -->

            <div class="main-kpi-approval">
                <a class="kpi" th:href="@{/approval/inbox/waiting}">
                    <span class="kpi-num" th:text="${counts.approverTodoCount}">0</span>  <!-- Ïó¨Í∏∞ -->
                    <span class="kpi-label">ÎåÄÍ∏∞</span>
                </a>

                <a class="kpi" th:href="@{/approval/inbox/done}">
                    <span class="kpi-num" th:text="${counts.approverDoneCount}">0</span>
                    <span class="kpi-label">ÏôÑÎ£å</span>
                </a>

                <a class="kpi" th:href="@{/approval/my/drafts}">
                    <span class="kpi-num" th:text="${counts.drafterDraftCount}">0</span>
                    <span class="kpi-label">ÏûÑÏãú</span>
                </a>

                <a class="kpi" th:href="@{/approval/my/in-progress}">
                    <span class="kpi-num" th:text="${counts.drafterInProgressCount}">0</span>
                    <span class="kpi-label">ÏßÑÌñâ</span>
                </a>

                <a class="kpi" th:href="@{/approval/my/approved}">
                    <span class="kpi-num" th:text="${counts.drafterApprovedCount}">0</span>
                    <span class="kpi-label">ÏäπÏù∏</span>
                </a>

                <a class="kpi" th:href="@{/approval/my/reference}">
                    <span class="kpi-num" th:text="${counts.drafterReferencedCount}">0</span>
                    <span class="kpi-label">Ï∞∏Ï°∞</span>
                </a>

                <a class="kpi kpi--danger" th:href="@{/approval/my/rejected}">
                    <span class="kpi-num" th:text="${counts.drafterRejectedCount}">0</span>
                    <span class="kpi-label">Î∞òÎ†§</span>
                </a>

            </div>
        </section>

        <!-- Ïò§Î•∏Ï™Ω-->

        <section class = "rightPage">

            <!--Í≤åÏãúÌåê           -->
            <div class="main-borad">
                <div class="mini-borad">
                    <div class="mb-header">
                        <h3 class="mb-head">Í≤åÏãúÌåê</h3>
                        <button class="mb-write-btn" id="boardWriteBtn">+ ÏûëÏÑ±</button>
                    </div>

                    <ul class="mb-list" id="boardList">
                        <!-- JSÎ°ú Í≤åÏãúÍ∏Ä Î†åÎçîÎßÅ -->
                    </ul>
                </div>

                <!-- Í≤åÏãúÍ∏Ä Î™®Îã¨ -->
                <div class="modal" id="boardDetailModal" style="display:none;">
                    <div class="modal-panel">
                        <div class="modal-header">
                            <h4 id="detailTitle"></h4>
                            <button class="modal-close" data-close="detail">√ó</button>
                        </div>
                        <div class="modal-meta">
                            <span id="detailWriter"></span>
                            <span id="detailDate"></span>
                        </div>
                        <div class="modal-content" id="detailContent"></div>
                    </div>
                </div>

                <!-- Í≤åÏãúÍ∏Ä ÏûëÏÑ± Î™®Îã¨ -->
                <div class="modal" id="boardWriteModal" style="display:none;">
                    <div class="modal-panel">
                        <div class="modal-header">
                            <h4>Í≤åÏãúÍ∏Ä ÏûëÏÑ±</h4>
                            <button class="modal-close" data-close="write">√ó</button>
                        </div>

                        <div class="modal-sheet">
                            <select id="writeCategory"><!-- Ïπ¥ÌÖåÍ≥†Î¶¨ JS Î°úÎî© --> </select>

                            <input type="text" id="writeTitle" placeholder="Title">

                            <textarea id="writeContent" placeholder="Content"></textarea>
                        </div>
                        <div class="modal-actions">
                            <button id="writeSubmitBtn">Îì±Î°ù</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mini-calendar">ÎØ∏Îãà Ï∫òÎ¶∞Îçî</div>

            <div class="mini-kanban">
                <div th:replace="~{Main/main-kanban :: miniKanban}"></div>
            </div>

            <div class="mini-meetingroom">ÌöåÏùòÏã§</div>
        </section>
    </div>


</div>

</body>
</html>