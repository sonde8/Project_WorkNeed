<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Workneed Main</title>
</head>
<body>
<h1>메인 페이지</h1>

<div th:if="${session.user == null}">
    <p>로그인이 필요합니다.</p>
    <a href="/login">로그인 하러가기</a>
</div>

<div th:if="${session.user != null}">
    <div class="profile-section">
        <img th:src="${session.user.userProfileImage != null ? session.user.userProfileImage : 'https://cdn-icons-png.flaticon.com/512/149/149071.png'}"
             referrerpolicy="no-referrer"
             alt="프로필"
             style="width:50px; height:50px; border-radius:50%; object-fit: cover;">
    </div>

    <p><span th:text="${session.user.userName}"></span>님 환영합니다!</p>

    <div style="margin: 15px 0;">
        <a href="/oauth2/authorization/google" class="btn btn-google" style="text-decoration: none;">
            <img src="/images/google_icon.png" alt="" style="width:20px; vertical-align: middle;">
            <span style="vertical-align: middle;">구글 계정 연동하기</span>
        </a>
    </div>

    <form th:action="@{/logout}" method="post">
        <button type="submit">로그아웃</button>
    </form>
</div>

<script src="/js/main.js"></script>
</body>

</body>
</html>