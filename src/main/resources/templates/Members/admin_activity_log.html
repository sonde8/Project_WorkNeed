<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>활동 로그</title>
    <link rel="stylesheet" th:href="@{/css/admin_user_list.css}">
</head>
<body>

<div class="admin-header" th:if="${admin != null}">
    <span>관리자: <b th:text="${admin.adminName}">관리자</b></span>
    <form th:action="@{/logout}" method="post">
        <button type="submit" class="btn-secondary">로그아웃</button>
    </form>
</div>

<div class="admin-tabs">
    <a th:href="@{/admin/member/list}" class="btn-tab">직원 관리</a>
    <a th:href="@{/admin/attendance/list}" class="btn-tab">근태 요청 관리</a>
    <a th:href="@{/admin/manage/list}" class="btn-tab ">관리자 설정</a>
    <a th:href="@{/admin/log/list}" class="btn-tab active">활동 로그</a>
</div>

<div class="admin-content">
    <h2>시스템 활동 기록</h2>
    <p style="color: #718096; font-size: 0.9em; margin-bottom: 15px;">* 모든 관리 활동은 보안을 위해 기록되며 수정 및 삭제가 불가능합니다.</p>

    <table>
        <thead>
        <tr>
            <th style="width: 180px;">발생 시각</th>
            <th style="width: 200px;">수행 관리자(권한)</th>
            <th style="width: 150px;">작업 구분</th>
            <th style="width: 100px;">대상 유형</th> <th style="width: 80px;">대상 ID</th>   <th>상세 내용</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(logs)}">
            <td colspan="6" style="text-align: center; padding: 30px; color: #a0aec0;">기록된 활동 로그가 없습니다.</td>
        </tr>
        <tr th:each="log : ${logs}">
            <td th:text="${#temporals.format(log.logCreatedAt, 'yyyy-MM-dd HH:mm:ss')}" style="color: #4a5568;"></td>
            <td>
                <b th:text="${log.adminName}">관리자명</b>
                <span class="role-tag" th:text="${log.roleName}">권한</span>
            </td>
            <td>
                <span class="action-badge" th:text="${log.logActionType}">ACTION</span>
            </td>
            <td>
                <span class="target-type-tag" th:text="${log.logTargetType}">-</span>
            </td>
            <td th:text="${log.logTargetId != null ? log.logTargetId : '-'}"></td>
            <td th:text="${log.logDescription}" style="line-height: 1.5;"></td>
        </tr>
        </tbody>
    </table>
</div>


<script src="/js/admin_activity_log.js"></script>
</body>
</html>